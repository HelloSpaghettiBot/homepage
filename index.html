<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KozaWorld Homepage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-black text-white m-0 p-0">
  <canvas id="gameCanvas" class="hidden fixed inset-0 z-50"></canvas>
  <div class="main-container">
    <!-- Header Section -->
    <section id="home" class="landing-area text-center relative flex flex-col items-center justify-center">
      <h1 class="text-5xl md:text-6xl font-bold mb-4 relative z-10">
        KOZA
        <span id="worldText" class="gradient-text color-change cursor-pointer">
          WORLD
        </span>
      </h1>

      <!-- Buttons and Level/Experience Info under the title -->
      <div class="button-container mb-8">
        <a href="#projects" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          PRESS START
        </a>
        <a href="#connect" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          CONTACT ME
        </a>
      </div>

      <!-- Level and Experience Card -->
      <div class="card mb-8">
        <div class="flex justify-between mb-4">
          <span id="level" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Loading..</span>
          <span id="exp" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Loading..</span>
        </div>

        <!-- Experience Bar -->
        <div class="exp-bar mx-auto mb-4">
          <div id="exp-fill" class="exp-fill" style="width: 0%"></div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="bg-gray-900 flex flex-col items-center justify-center">
      <h2 class="text-4xl font-bold text-white mb-8">PROJECTS</h2>
      <div id="projects-grid" class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 px-4">
        <!-- Projects will be loaded here dynamically -->
      </div>
    </section>

<!-- Connect with Me Section -->
<section id="connect" class="bg-black text-white flex flex-col items-center justify-center w-full">
  <div class="w-full max-w-4xl px-4 flex flex-col items-center text-center">
    <div class="w-full text-center">
      <h2 class="text-4xl font-bold mb-8 text-center w-full">CONNECT WITH ME</h2>
    </div>
    <div class="flex flex-col sm:flex-row gap-8 text-3xl items-center justify-center w-full">
      <a href="https://twitter.com/Kodytron" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Twitter
      </a>
      <a href="mailto:kody@kozaworld.com" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Email
      </a>
      <a href="https://kozacreations.itch.io" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Itch.io
      </a>
    </div>
  </div>
</section>

  <!-- Floating Home Button -->
  <a href="#home" class="home-button">
    â†‘
  </a>

    <script>
    class Particle {
      constructor(x, y, char) {
        this.x = x;
        this.y = y;
        this.char = char;
        this.velocity = {
          x: (Math.random() - 0.5) * 10,
          y: (Math.random() - 0.5) * 10
        };
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.2;
        this.alpha = 1;
      }

      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.rotation += this.rotationSpeed;
        this.alpha -= 0.01;
        return this.alpha > 0;
      }
    }

    class Asteroid {
      constructor(canvas) {
        this.canvas = canvas;
        this.x = Math.random() * canvas.width;
        this.y = Math.random() < 0.5 ? -30 : canvas.height + 30;
        this.size = Math.random() * 20 + 20;
        this.velocity = {
          x: (Math.random() - 0.5) * 4,
          y: (Math.random() - 0.5) * 4
        };
        this.rotation = Math.random() * Math.PI * 2;
        this.points = this.generatePoints();
      }

      generatePoints() {
        const points = [];
        const numPoints = 8;
        for (let i = 0; i < numPoints; i++) {
          const angle = (i / numPoints) * Math.PI * 2;
          const radius = this.size * (0.8 + Math.random() * 0.4);
          points.push({
            x: Math.cos(angle) * radius,
            y: Math.sin(angle) * radius
          });
        }
        return points;
      }

      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.rotation += 0.02;

        if (this.x < -50) this.x = this.canvas.width + 50;
        if (this.x > this.canvas.width + 50) this.x = -50;
        if (this.y < -50) this.y = this.canvas.height + 50;
        if (this.y > this.canvas.height + 50) this.y = -50;
      }
    }

    class Ship {
      constructor(canvas) {
        this.canvas = canvas;
        this.x = canvas.width / 2;
        this.y = canvas.height / 2;
        this.rotation = -Math.PI / 2;
        this.velocity = { x: 0, y: 0 };
        this.thrust = 0.5;
        this.rotationSpeed = 0.1;
        this.bullets = [];
      }

      update() {
        // Update position
        this.x += this.velocity.x;
        this.y += this.velocity.y;

        // Wrap around screen
        if (this.x < 0) this.x = this.canvas.width;
        if (this.x > this.canvas.width) this.x = 0;
        if (this.y < 0) this.y = this.canvas.height;
        if (this.y > this.canvas.height) this.y = 0;

        // Update bullets
        this.bullets = this.bullets.filter(bullet => {
          bullet.x += Math.cos(bullet.rotation) * 10;
          bullet.y += Math.sin(bullet.rotation) * 10;
          bullet.lifetime--;
          return bullet.lifetime > 0;
        });
      }

      shoot() {
        this.bullets.push({
          x: this.x + Math.cos(this.rotation) * 20,
          y: this.y + Math.sin(this.rotation) * 20,
          rotation: this.rotation,
          lifetime: 50
        });
      }
    }

    let gameActive = false;
    let canvas, ctx, ship, asteroids, particles;
    let keys = {};

    function initGame() {
      canvas = document.getElementById('gameCanvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      ctx = canvas.getContext('2d');

      ship = new Ship(canvas);
      asteroids = Array(5).fill().map(() => new Asteroid(canvas));
      particles = [];

      document.addEventListener('keydown', e => keys[e.key] = true);
      document.addEventListener('keyup', e => keys[e.key] = false);
      document.addEventListener('keydown', e => {
        if (e.code === 'Space') ship.shoot();
      });

      gameLoop();
    }

    function gameLoop() {
      if (!gameActive) return;

      ctx.fillStyle = 'black';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Update ship
      if (keys['ArrowLeft']) ship.rotation -= ship.rotationSpeed;
      if (keys['ArrowRight']) ship.rotation += ship.rotationSpeed;
      if (keys['ArrowUp']) {
        ship.velocity.x += Math.cos(ship.rotation) * ship.thrust;
        ship.velocity.y += Math.sin(ship.rotation) * ship.thrust;
      }
      ship.update();

      // Draw ship
      ctx.save();
      ctx.translate(ship.x, ship.y);
      ctx.rotate(ship.rotation);
      ctx.strokeStyle = 'white';
      ctx.beginPath();
      ctx.moveTo(20, 0);
      ctx.lineTo(-10, -10);
      ctx.lineTo(-10, 10);
      ctx.closePath();
      ctx.stroke();
      ctx.restore();

      // Update and draw bullets
      ctx.fillStyle = 'white';
      ship.bullets.forEach(bullet => {
        ctx.beginPath();
        ctx.arc(bullet.x, bullet.y, 2, 0, Math.PI * 2);
        ctx.fill();
      });

      // Update and draw asteroids
      ctx.strokeStyle = 'white';
      asteroids.forEach(asteroid => {
        asteroid.update();
        ctx.save();
        ctx.translate(asteroid.x, asteroid.y);
        ctx.rotate(asteroid.rotation);
        ctx.beginPath();
        ctx.moveTo(asteroid.points[0].x, asteroid.points[0].y);
        asteroid.points.forEach(point => {
          ctx.lineTo(point.x, point.y);
        });
        ctx.closePath();
        ctx.stroke();
        ctx.restore();
      });

      // Update and draw particles
      ctx.fillStyle = 'white';
      particles = particles.filter(particle => {
        if (particle.update()) {
          ctx.save();
          ctx.translate(particle.x, particle.y);
          ctx.rotate(particle.rotation);
          ctx.globalAlpha = particle.alpha;
          ctx.fillText(particle.char, 0, 0);
          ctx.restore();
          return true;
        }
        return false;
      });

      requestAnimationFrame(gameLoop);
    }

    // Add event listener for the WORLD text
    document.getElementById('worldText').addEventListener('click', () => {
      if (!gameActive) {
        const worldText = document.getElementById('worldText');
        const rect = worldText.getBoundingClientRect();
        const chars = 'WORLD'.split('');
        
        // Create explosion particles
        chars.forEach((char, i) => {
          const x = rect.left + (rect.width * (i + 1)) / (chars.length + 1);
          const y = rect.top + rect.height / 2;
          particles.push(new Particle(x, y, char));
        });

        // Hide the main content and show the game
        document.querySelector('.main-container').style.opacity = '0';
        setTimeout(() => {
          document.querySelector('.main-container').style.display = 'none';
          canvas.classList.remove('hidden');
          gameActive = true;
          initGame();
        }, 1000);
      }
    });

    // Add ESC key handler to exit game
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && gameActive) {
        gameActive = false;
        canvas.classList.add('hidden');
        document.querySelector('.main-container').style.display = 'block';
        setTimeout(() => {
          document.querySelector('.main-container').style.opacity = '1';
        }, 0);
      }
    });
    </script>
    
  <script>
    // GitHub username
    const githubUsername = 'KozaWorld';

    // Function to fetch GitHub data
    async function fetchGitHubData() {
      try {
        const reposResponse = await fetch(`https://api.github.com/users/${githubUsername}/repos`);
        const repos = await reposResponse.json();
        const numberOfRepos = repos.length;

        const eventsResponse = await fetch(`https://api.github.com/users/${githubUsername}/events/public`);
        const events = await eventsResponse.json();
        const numberOfContributions = events.filter(event => event.type === "PushEvent").length;

        const projectXP = numberOfRepos * 50;
        const contributionXP = numberOfContributions * 10;
        const totalXP = projectXP + contributionXP;

        let level = Math.floor(totalXP / 100);
        let expToNextLevel = totalXP % 100;

        document.getElementById("level").textContent = `Level: ${level}`;
        document.getElementById("exp").textContent = `Exp: ${totalXP}`;
        document.getElementById("exp-fill").style.width = `${(expToNextLevel / 100) * 100}%`;
      } catch (error) {
        console.error('Error fetching GitHub data:', error);
      }
    }

    // Function to load projects from JSON
    async function loadProjects() {
      try {
        const response = await fetch('projects.json');
        const data = await response.json();
        const projectsGrid = document.getElementById('projects-grid');
        
        projectsGrid.innerHTML = data.projects.map(project => `
          <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-lg hover:shadow-xl hover:shadow-purple-500/20 transition-all">
            <h3 class="text-xl font-bold mb-2 text-purple-400">${project.title}</h3>
            <p class="mb-4 text-gray-300">${project.description}</p>
            <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="text-purple-400 hover:text-purple-300">
              View Project
            </a>
          </div>
        `).join('');
      } catch (error) {
        console.error('Error loading projects:', error);
      }
    }

    // Initialize everything
    fetchGitHubData();
    loadProjects();
  </script>
</body>
</html>
