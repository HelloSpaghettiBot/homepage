<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KozaWorld Homepage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-black text-white m-0 p-0">
  <div class="main-container">
    <!-- Header Section -->
    <section id="home" class="landing-area text-center relative flex flex-col items-center justify-center">
      <h1 class="text-5xl md:text-6xl font-bold mb-4 relative z-10">
        KOZA
        <span class="gradient-text color-change">
          WORLD
        </span>
      </h1>

      <!-- Buttons and Level/Experience Info under the title -->
      <div class="button-container mb-8">
        <a href="#projects" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          PRESS START
        </a>
        <a href="#connect" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          CONTACT ME
        </a>
      </div>

      <!-- Level and Experience Card -->
      <div class="card mb-8">
        <div class="flex justify-between mb-4">
          <span id="level" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Level: Loading...</span>
          <span id="exp" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Exp: Loading...</span>
        </div>

        <!-- Experience Bar -->
        <div class="exp-bar mx-auto mb-4">
          <div id="exp-fill" class="exp-fill" style="width: 0%"></div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="bg-gray-900 flex flex-col items-center justify-center">
      <h2 class="text-4xl font-bold text-white mb-8">PROJECTS</h2>
      <div id="projects-grid" class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 px-4">
        <!-- Projects will be loaded here dynamically -->
      </div>
    </section>

<!-- Connect with Me Section -->
<section id="connect" class="bg-black text-white flex flex-col items-center justify-center w-full">
  <div class="w-full max-w-4xl px-4 flex flex-col items-center text-center">
    <div class="w-full text-center">
      <h2 class="text-4xl font-bold mb-8 text-center w-full">CONNECT WITH ME</h2>
    </div>
    <div class="flex flex-col sm:flex-row gap-8 text-3xl items-center justify-center w-full">
      <a href="https://twitter.com/Kodytron" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Twitter
      </a>
      <a href="mailto:kody@kozaworld.com" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Email
      </a>
      <a href="https://kozacreations.itch.io" target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto text-center hover:text-purple-400 transition-colors px-4 py-2 border-2 border-purple-600 rounded-full blinking-text">
        Itch.io
      </a>
    </div>
  </div>
</section>

  <!-- Floating Home Button -->
  <a href="#home" class="home-button">
    â†‘
  </a>

  <script>
    // GitHub username
    const githubUsername = 'KozaWorld';

    // Function to fetch GitHub data
    async function fetchGitHubData() {
      try {
        const reposResponse = await fetch(`https://api.github.com/users/${githubUsername}/repos`);
        const repos = await reposResponse.json();
        const numberOfRepos = repos.length;

        const eventsResponse = await fetch(`https://api.github.com/users/${githubUsername}/events/public`);
        const events = await eventsResponse.json();
        const numberOfContributions = events.filter(event => event.type === "PushEvent").length;

        const projectXP = numberOfRepos * 50;
        const contributionXP = numberOfContributions * 10;
        const totalXP = projectXP + contributionXP;

        let level = Math.floor(totalXP / 100);
        let expToNextLevel = totalXP % 100;

        document.getElementById("level").textContent = `Level: ${level}`;
        document.getElementById("exp").textContent = `Exp: ${totalXP}`;
        document.getElementById("exp-fill").style.width = `${(expToNextLevel / 100) * 100}%`;
      } catch (error) {
        console.error('Error fetching GitHub data:', error);
      }
    }

    // Function to load projects from JSON
    async function loadProjects() {
      try {
        const response = await fetch('projects.json');
        const data = await response.json();
        const projectsGrid = document.getElementById('projects-grid');
        
        projectsGrid.innerHTML = data.projects.map(project => `
          <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-lg hover:shadow-xl hover:shadow-purple-500/20 transition-all">
            <h3 class="text-xl font-bold mb-2 text-purple-400">${project.title}</h3>
            <p class="mb-4 text-gray-300">${project.description}</p>
            <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="text-purple-400 hover:text-purple-300">
              View Project
            </a>
          </div>
        `).join('');
      } catch (error) {
        console.error('Error loading projects:', error);
      }
    }

    // Initialize everything
    fetchGitHubData();
    loadProjects();
  </script>
</body>
</html>
