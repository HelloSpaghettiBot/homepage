<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KozaWorld Homepage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    #gameCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 50;
    }
    
    .hidden {
      display: none;
    }

    .main-container {
      transition: opacity 1s ease;
    }

    .gradient-text {
      background: linear-gradient(45deg, #ff0080, #7928ca);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      transition: all 0.3s ease;
    }

    .gradient-text:hover {
      text-shadow: 0 0 10px rgba(255, 0, 128, 0.5);
      transform: scale(1.05);
    }

    .button-container {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }

    .big-button {
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .big-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
    }

    .card {
      background: rgba(17, 24, 39, 0.8);
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      max-width: 400px;
      width: 100%;
    }

    .exp-bar {
      background: rgba(107, 114, 128, 0.3);
      height: 20px;
      border-radius: 10px;
      overflow: hidden;
      width: 100%;
    }

    .exp-fill {
      background: linear-gradient(90deg, #7928ca, #ff0080);
      height: 100%;
      transition: width 0.5s ease;
    }

    .home-button {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: rgba(168, 85, 247, 0.8);
      color: white;
      width: 3rem;
      height: 3rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 40;
    }

    .home-button:hover {
      transform: scale(1.1);
      background: rgba(168, 85, 247, 1);
    }
  </style>
</head>
<body class="bg-black text-white m-0 p-0">
  <canvas id="gameCanvas" class="hidden"></canvas>
  <div class="main-container">
    <!-- Header Section -->
    <section id="home" class="landing-area text-center relative flex flex-col items-center justify-center min-h-screen">
      <h1 class="text-5xl md:text-6xl font-bold mb-4 relative z-10">
        KOZA
        <span id="worldText" class="gradient-text color-change cursor-pointer">
          WORLD
        </span>
      </h1>

      <!-- Buttons and Level/Experience Info -->
      <div class="button-container mb-8">
        <a href="#projects" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          PRESS START
        </a>
        <a href="#connect" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-full transition blinking-text big-button">
          CONTACT ME
        </a>
      </div>

      <!-- Level and Experience Card -->
      <div class="card mb-8">
        <div class="flex justify-between mb-4">
          <span id="level" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Level: Loading...</span>
          <span id="exp" class="bg-purple-500 px-4 py-2 rounded-full text-xl font-semibold small-text">Exp: Loading...</span>
        </div>
        <div class="exp-bar mx-auto mb-4">
          <div id="exp-fill" class="exp-fill" style="width: 0%"></div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="bg-gray-900 py-20">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-4xl font-bold text-center mb-12">PROJECTS</h2>
        <div id="projects-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
          <!-- Projects will be loaded here dynamically -->
        </div>
      </div>
    </section>

    <!-- Connect Section -->
    <section id="connect" class="bg-black py-20">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-4xl font-bold mb-12">CONNECT WITH ME</h2>
        <div class="flex flex-col sm:flex-row gap-8 justify-center">
          <a href="https://twitter.com/Kodytron" target="_blank" rel="noopener noreferrer" 
             class="px-6 py-3 border-2 border-purple-600 rounded-full text-xl hover:bg-purple-600 transition">
            Twitter
          </a>
          <a href="mailto:kody@kozaworld.com" 
             class="px-6 py-3 border-2 border-purple-600 rounded-full text-xl hover:bg-purple-600 transition">
            Email
          </a>
          <a href="https://kozacreations.itch.io" target="_blank" rel="noopener noreferrer"
             class="px-6 py-3 border-2 border-purple-600 rounded-full text-xl hover:bg-purple-600 transition">
            Itch.io
          </a>
        </div>
      </div>
    </section>
  </div>

  <!-- Home Button -->
  <a href="#home" class="home-button">â†‘</a>

  <script>
    // Game Classes
    class Particle {
      constructor(x, y, char) {
        this.x = x;
        this.y = y;
        this.char = char;
        this.velocity = {
          x: (Math.random() - 0.5) * 10,
          y: (Math.random() - 0.5) * 10
        };
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.2;
        this.alpha = 1;
      }

      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.rotation += this.rotationSpeed;
        this.alpha -= 0.01;
        return this.alpha > 0;
      }
    }

    class Asteroid {
      constructor(canvas) {
        this.canvas = canvas;
        this.x = Math.random() * canvas.width;
        this.y = Math.random() < 0.5 ? -30 : canvas.height + 30;
        this.size = Math.random() * 20 + 20;
        this.velocity = {
          x: (Math.random() - 0.5) * 4,
          y: (Math.random() - 0.5) * 4
        };
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.02;
        this.points = this.generatePoints();
      }

      generatePoints() {
        const points = [];
        const numPoints = 8;
        for (let i = 0; i < numPoints; i++) {
          const angle = (i / numPoints) * Math.PI * 2;
          const radius = this.size * (0.8 + Math.random() * 0.4);
          points.push({
            x: Math.cos(angle) * radius,
            y: Math.sin(angle) * radius
          });
        }
        return points;
      }

      update() {
        this.x += this.velocity.x;
        this.y += this.velocity.y;
        this.rotation += this.rotationSpeed;

        // Wrap around screen
        if (this.x < -50) this.x = this.canvas.width + 50;
        if (this.x > this.canvas.width + 50) this.x = -50;
        if (this.y < -50) this.y = this.canvas.height + 50;
        if (this.y > this.canvas.height + 50) this.y = -50;
      }

      draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.strokeStyle = 'white';
        ctx.beginPath();
        ctx.moveTo(this.points[0].x, this.points[0].y);
        this.points.forEach(point => {
          ctx.lineTo(point.x, point.y);
        });
        ctx.closePath();
        ctx.stroke();
        ctx.restore();
      }
    }

    class Ship {
      constructor(canvas) {
        this.canvas = canvas;
        this.x = canvas.width / 2;
        this.y = canvas.height / 2;
        this.rotation = -Math.PI / 2;
        this.velocity = { x: 0, y: 0 };
        this.thrust = 0.5;
        this.rotationSpeed = 0.1;
        this.friction = 0.99;
        this.bullets = [];
      }

      update() {
        // Update position
        this.x += this.velocity.x;
        this.y += this.velocity.y;

        // Apply friction
        this.velocity.x *= this.friction;
        this.velocity.y *= this.friction;

        // Wrap around screen
        if (this.x < 0) this.x = this.canvas.width;
        if (this.x > this.canvas.width) this.x = 0;
        if (this.y < 0) this.y = this.canvas.height;
        if (this.y > this.canvas.height) this.y = 0;

        // Update bullets
        this.bullets = this.bullets.filter(bullet => {
          bullet.x += Math.cos(bullet.rotation) * 10;
          bullet.y += Math.sin(bullet.rotation) * 10;
          bullet.lifetime--;

          // Wrap bullets around screen
          if (bullet.x < 0) bullet.x = this.canvas.width;
          if (bullet.x > this.canvas.width) bullet.x = 0;
          if (bullet.y < 0) bullet.y = this.canvas.height;
          if (bullet.y > this.canvas.height) bullet.y = 0;

          return bullet.lifetime > 0;
        });
      }

      shoot() {
        this.bullets.push({
          x: this.x + Math.cos(this.rotation) * 20,
          y: this.y + Math.sin(this.rotation) * 20,
          rotation: this.rotation,
          lifetime: 50
        });
      }

      draw(ctx) {
        // Draw ship
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.strokeStyle = 'white';
        ctx.beginPath();
        ctx.moveTo(20, 0);
        ctx.lineTo(-10, -10);
        ctx.lineTo(-10, 10);
        ctx.closePath();
        ctx.stroke();
        ctx.restore();

        // Draw bullets
        ctx.fillStyle = 'white';
        this.bullets.forEach(bullet => {
          ctx.beginPath();
          ctx.arc(bullet.x, bullet.y, 2, 0, Math.PI * 2);
          ctx.fill();
        });
      }
    }

    // Game Variables
    let gameActive = false;
    let canvas = null;
    let ctx = null;
    let ship = null;
    let asteroids = [];
    let particles = [];
    let keys = {};
    let animationFrameId = null;

    function initGame() {
      canvas = document.getElementById('gameCanvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      ctx = canvas.getContext('2d');

      ship = new Ship(canvas);
      asteroids = Array(5).fill().map(() => new Asteroid(canvas));
      particles = [];

      document.addEventListener('keydown', e => keys[e.key] = true);
      document.addEventListener('keyup', e => keys[e.key] = false);
      document.addEventListener('keydown', e => {
        if (e.code === 'Space') ship.shoot();
      });

      gameActive = true;
      gameLoop();
    }

    function gameLoop() {
      if (!gameActive) return;

      // Clear canvas
      ctx.fillStyle = 'black';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Update ship
      if (keys['ArrowLeft']) ship.rotation -= ship.rotationSpeed;
      if (keys['ArrowRight']) ship.rotation += ship.rotationSpeed;
      if (keys['ArrowUp']) {
        ship.velocity.x += Math.cos(ship.rotation) * ship.thrust;
        ship.velocity.y += Math.sin(ship.rotation) * ship.thrust;
      }
      ship.update();
      ship.draw(ctx);

      // Update and draw asteroids
      asteroids.forEach(asteroid => {
        asteroid.update();
        asteroid.draw(ctx);
      });

      // Update and draw particles
      ctx.fillStyle = 'white';
      particles = particles.filter(particle => {
        if (particle.update()) {
          ctx.save();
          ctx.translate(particle.x, particle.y);
          ctx.rotate(particle.rotation);
          ctx.globalAlpha = particle.alpha;
          ctx.fillText(particle.char, 0, 0);
          ctx.restore();
          return true;
        }
        return false;
      });

      animationFrameId = requestAnimationFrame(gameLoop);
    }

    // Window resize handler
    window.addEventListener('resize', () => {
      if (canvas) {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
    });

// Initialize game when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  const worldText = document.getElementById('worldText');

  worldText.addEventListener('click', () => {
    if (!gameActive) {
      const rect = worldText.getBoundingClientRect();
      const chars = 'WORLD'.split('');

      // Create explosion particles
      chars.forEach((char, i) => {
        const x = rect.left + (rect.width * (i + 1)) / (chars.length + 1);
        const y = rect.top + rect.height / 2;
        particles.push(new Particle(x, y, char));
      });

      // Hide the main content and show the game
      document.querySelector('.main-container').style.opacity = '0';
      setTimeout(() => {
        document.querySelector('.main-container').style.display = 'none';
        canvas = document.getElementById('gameCanvas');
        canvas.classList.remove('hidden');
        initGame();
      }, 1000);
    }
  });
});

// Add ESC key handler to exit game
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && gameActive) {
    gameActive = false;
    if (animationFrameId) {
      cancelAnimationFrame(animationFrameId);
    }
    canvas.classList.add('hidden');
    document.querySelector('.main-container').style.display = 'block';
    setTimeout(() => {
      document.querySelector('.main-container').style.opacity = '1';
    }, 0);
  }
});

// GitHub integration code
const githubUsername = 'KozaWorld';

async function fetchGitHubData() {
  try {
    const reposResponse = await fetch(`https://api.github.com/users/${githubUsername}/repos`);
    const repos = await reposResponse.json();
    const numberOfRepos = repos.length;

    const eventsResponse = await fetch(`https://api.github.com/users/${githubUsername}/events/public`);
    const events = await eventsResponse.json();
    const numberOfContributions = events.filter(event => event.type === "PushEvent").length;

    const projectXP = numberOfRepos * 50;
    const contributionXP = numberOfContributions * 10;
    const totalXP = projectXP + contributionXP;

    let level = Math.floor(totalXP / 100);
    let expToNextLevel = totalXP % 100;

    document.getElementById("level").textContent = `Level: ${level}`;
    document.getElementById("exp").textContent = `Exp: ${totalXP}`;
    document.getElementById("exp-fill").style.width = `${(expToNextLevel / 100) * 100}%`;
  } catch (error) {
    console.error('Error fetching GitHub data:', error);
  }
}

// Function to load projects from JSON
async function loadProjects() {
  try {
    const response = await fetch('projects.json');
    const data = await response.json();
    const projectsGrid = document.getElementById('projects-grid');

    projectsGrid.innerHTML = data.projects.map(project => `
          <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-lg hover:shadow-xl hover:shadow-purple-500/20 transition-all">
            <h3 class="text-xl font-bold mb-2 text-purple-400">${project.title}</h3>
            <p class="mb-4 text-gray-300">${project.description}</p>
            <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="text-purple-400 hover:text-purple-300">
              View Project
            </a>
          </div>
        `).join('');
  } catch (error) {
    console.error('Error loading projects:', error);
  }
}

// Initialize everything
fetchGitHubData();
loadProjects();
</script> </body> </html>
